<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KETCube: Drivers/KETCube/modules/ketCube_rtc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KETCube
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_60925fc218da8ca7908795bf5f624060.html">Drivers</a></li><li class="navelem"><a class="el" href="dir_fc8680e1d7808db761bf93480d3f28b6.html">KETCube</a></li><li class="navelem"><a class="el" href="dir_e6f7908eb390e0df911673e1c8e0233b.html">modules</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ketCube_rtc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains implementation of the ketCube RTC driver.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;hw.h&quot;</code><br />
<code>#include &quot;low_power.h&quot;</code><br />
<code>#include &quot;systime.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ketCube__terminal_8h_source.html">ketCube_terminal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ketCube__mcu_8h_source.html">ketCube_mcu.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9d5b1559769779b90b2a3de5757e0038"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a9d5b1559769779b90b2a3de5757e0038">MIN_ALARM_DELAY</a>&#160;&#160;&#160;3 /* in ticks */</td></tr>
<tr class="separator:a9d5b1559769779b90b2a3de5757e0038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fce31e2c7437f8f58b0c67a9b2cd037"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a5fce31e2c7437f8f58b0c67a9b2cd037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8647306f20268ae27f137e06f9e642fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a8647306f20268ae27f137e06f9e642fc">PREDIV_S</a>&#160;&#160;&#160;((1&lt;&lt;<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>)-1)</td></tr>
<tr class="separator:a8647306f20268ae27f137e06f9e642fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e79e29c67db99f090e9996df18e2c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a21e79e29c67db99f090e9996df18e2c7">PREDIV_A</a>&#160;&#160;&#160;(1&lt;&lt;(15-<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>))-1</td></tr>
<tr class="separator:a21e79e29c67db99f090e9996df18e2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae46e397fa306bd26bf8320afeaebb9c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#ae46e397fa306bd26bf8320afeaebb9c0">RTC_ALARMSUBSECONDMASK</a>&#160;&#160;&#160;(<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>&lt;&lt;RTC_ALRMASSR_MASKSS_Pos)</td></tr>
<tr class="separator:ae46e397fa306bd26bf8320afeaebb9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3934d5d924c9a3b9f9bee6cc9e25945"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#af3934d5d924c9a3b9f9bee6cc9e25945">USEC_NUMBER</a>&#160;&#160;&#160;1000000</td></tr>
<tr class="separator:af3934d5d924c9a3b9f9bee6cc9e25945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5976f980e4aecbba0ab173b8e73f70d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a5976f980e4aecbba0ab173b8e73f70d9">MSEC_NUMBER</a>&#160;&#160;&#160;(<a class="el" href="ketCube__rtc_8c.html#af3934d5d924c9a3b9f9bee6cc9e25945">USEC_NUMBER</a>/1000)</td></tr>
<tr class="separator:a5976f980e4aecbba0ab173b8e73f70d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72bd8d096a8ba24daacc79e30844e20c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a72bd8d096a8ba24daacc79e30844e20c">RTC_ALARM_TIME_BASE</a>&#160;&#160;&#160;(<a class="el" href="ketCube__rtc_8c.html#af3934d5d924c9a3b9f9bee6cc9e25945">USEC_NUMBER</a>&gt;&gt;<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>)</td></tr>
<tr class="separator:a72bd8d096a8ba24daacc79e30844e20c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4fc49ac0b9e4fccffe78ecdb418912f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#ab4fc49ac0b9e4fccffe78ecdb418912f">COMMON_FACTOR</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ab4fc49ac0b9e4fccffe78ecdb418912f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbad53513ea56467eac68d23a1baf49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a8dbad53513ea56467eac68d23a1baf49">CONV_NUMER</a>&#160;&#160;&#160;(<a class="el" href="ketCube__rtc_8c.html#a5976f980e4aecbba0ab173b8e73f70d9">MSEC_NUMBER</a>&gt;&gt;<a class="el" href="ketCube__rtc_8c.html#ab4fc49ac0b9e4fccffe78ecdb418912f">COMMON_FACTOR</a>)</td></tr>
<tr class="separator:a8dbad53513ea56467eac68d23a1baf49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a661badebd0364de871f2cd2d0b185c55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a661badebd0364de871f2cd2d0b185c55">CONV_DENOM</a>&#160;&#160;&#160;(1&lt;&lt;(<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>-<a class="el" href="ketCube__rtc_8c.html#ab4fc49ac0b9e4fccffe78ecdb418912f">COMMON_FACTOR</a>))</td></tr>
<tr class="separator:a661badebd0364de871f2cd2d0b185c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05269e1eafff6166976130c476ebf507"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a05269e1eafff6166976130c476ebf507">DAYS_IN_LEAP_YEAR</a>&#160;&#160;&#160;( ( uint32_t )  366U )</td></tr>
<tr class="separator:a05269e1eafff6166976130c476ebf507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d40c3278339e38839749bf1704a60cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a6d40c3278339e38839749bf1704a60cc">DAYS_IN_YEAR</a>&#160;&#160;&#160;( ( uint32_t )  365U )</td></tr>
<tr class="separator:a6d40c3278339e38839749bf1704a60cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2bd16d86f1ebf56e73b38adeafadf3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#acf2bd16d86f1ebf56e73b38adeafadf3">SECONDS_IN_1DAY</a>&#160;&#160;&#160;( ( uint32_t )86400U )</td></tr>
<tr class="separator:acf2bd16d86f1ebf56e73b38adeafadf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49351bd0651fa15e2a33dd94ba993002"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a49351bd0651fa15e2a33dd94ba993002">SECONDS_IN_1HOUR</a>&#160;&#160;&#160;( ( uint32_t ) 3600U )</td></tr>
<tr class="separator:a49351bd0651fa15e2a33dd94ba993002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb348cf6aae2bfed39e2edd5ce0383a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a6bb348cf6aae2bfed39e2edd5ce0383a">SECONDS_IN_1MINUTE</a>&#160;&#160;&#160;( ( uint32_t )   60U )</td></tr>
<tr class="separator:a6bb348cf6aae2bfed39e2edd5ce0383a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81e1b62f553cf38d5272acf84475f19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#ae81e1b62f553cf38d5272acf84475f19">MINUTES_IN_1HOUR</a>&#160;&#160;&#160;( ( uint32_t )   60U )</td></tr>
<tr class="separator:ae81e1b62f553cf38d5272acf84475f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe201bd95d21f649360773cb20ef4ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#acbe201bd95d21f649360773cb20ef4ff">HOURS_IN_1DAY</a>&#160;&#160;&#160;( ( uint32_t )   24U )</td></tr>
<tr class="separator:acbe201bd95d21f649360773cb20ef4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adff7c2bae448b6eb8630747d64bdbe06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#adff7c2bae448b6eb8630747d64bdbe06">DAYS_IN_MONTH_CORRECTION_NORM</a>&#160;&#160;&#160;((uint32_t) 0x99AAA0 )</td></tr>
<tr class="separator:adff7c2bae448b6eb8630747d64bdbe06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ee3d0452a7ab1bcfcf3fed56876304"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a86ee3d0452a7ab1bcfcf3fed56876304">DAYS_IN_MONTH_CORRECTION_LEAP</a>&#160;&#160;&#160;((uint32_t) 0x445550 )</td></tr>
<tr class="separator:a86ee3d0452a7ab1bcfcf3fed56876304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8edf0de0e3751031e15807e73a6f8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a4b8edf0de0e3751031e15807e73a6f8d">DIVC</a>(X,  N)&#160;&#160;&#160;( ( (X) + (N) -1 ) / (N) )</td></tr>
<tr class="separator:a4b8edf0de0e3751031e15807e73a6f8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4c71acb398f867ffa98c02f8d1383c62"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga4c71acb398f867ffa98c02f8d1383c62">ketCube_RTC_GetTimerElapsedTime</a> (void)</td></tr>
<tr class="memdesc:ga4c71acb398f867ffa98c02f8d1383c62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the RTC timer elapsed time since the last Alarm was set.  <a href="group__KETCube__RTC__fn.html#ga4c71acb398f867ffa98c02f8d1383c62">More...</a><br /></td></tr>
<tr class="separator:ga4c71acb398f867ffa98c02f8d1383c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea66eac802f0ff8d6a18dc56a811ee84"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#gaea66eac802f0ff8d6a18dc56a811ee84">ketCube_RTC_SetTimerContext</a> (void)</td></tr>
<tr class="memdesc:gaea66eac802f0ff8d6a18dc56a811ee84"><td class="mdescLeft">&#160;</td><td class="mdescRight">set Time Reference set also the RTC_DateStruct and RTC_TimeStruct  <a href="group__KETCube__RTC__fn.html#gaea66eac802f0ff8d6a18dc56a811ee84">More...</a><br /></td></tr>
<tr class="separator:gaea66eac802f0ff8d6a18dc56a811ee84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa199f2f74cce60417dee56f523dbd78b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#aa199f2f74cce60417dee56f523dbd78b">ketCube_RTC_SetConfig</a> (void)</td></tr>
<tr class="memdesc:aa199f2f74cce60417dee56f523dbd78b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the RTC timer.  <a href="ketCube__rtc_8c.html#aa199f2f74cce60417dee56f523dbd78b">More...</a><br /></td></tr>
<tr class="separator:aa199f2f74cce60417dee56f523dbd78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5023a0b126b4c137fa3fbac1a7315ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#ae5023a0b126b4c137fa3fbac1a7315ac">ketCube_RTC_SetAlarmConfig</a> (void)</td></tr>
<tr class="memdesc:ae5023a0b126b4c137fa3fbac1a7315ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">configure alarm at init  <a href="ketCube__rtc_8c.html#ae5023a0b126b4c137fa3fbac1a7315ac">More...</a><br /></td></tr>
<tr class="separator:ae5023a0b126b4c137fa3fbac1a7315ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35396e79c9a1063c262307cd2410da93"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a35396e79c9a1063c262307cd2410da93">ketCube_RTC_StartWakeUpAlarm</a> (uint32_t timeoutValue)</td></tr>
<tr class="memdesc:a35396e79c9a1063c262307cd2410da93"><td class="mdescLeft">&#160;</td><td class="mdescRight">start wake up alarm  <a href="ketCube__rtc_8c.html#a35396e79c9a1063c262307cd2410da93">More...</a><br /></td></tr>
<tr class="separator:a35396e79c9a1063c262307cd2410da93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030e79c6648a8732372d4e63a274e456"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a030e79c6648a8732372d4e63a274e456">ketCube_RTC_GetCalendarValue</a> (RTC_DateTypeDef *RTC_DateStruct, RTC_TimeTypeDef *RTC_TimeStruct)</td></tr>
<tr class="memdesc:a030e79c6648a8732372d4e63a274e456"><td class="mdescLeft">&#160;</td><td class="mdescRight">get current time from calendar in ticks  <a href="ketCube__rtc_8c.html#a030e79c6648a8732372d4e63a274e456">More...</a><br /></td></tr>
<tr class="separator:a030e79c6648a8732372d4e63a274e456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82d362cc7a28b75af9d52983eeac3d9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__KETCube__cfg.html#ga95b939ff8cd8890da9841626ce5e7958">ketCube_cfg_DrvError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga82d362cc7a28b75af9d52983eeac3d9c">ketCube_RTC_Init</a> (void)</td></tr>
<tr class="memdesc:ga82d362cc7a28b75af9d52983eeac3d9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the RTC timer.  <a href="group__KETCube__RTC__fn.html#ga82d362cc7a28b75af9d52983eeac3d9c">More...</a><br /></td></tr>
<tr class="separator:ga82d362cc7a28b75af9d52983eeac3d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c85700be6e10140b006cbd5e6b2f1f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga3c85700be6e10140b006cbd5e6b2f1f2">ketCube_RTC_setMcuWakeUpTime</a> (void)</td></tr>
<tr class="memdesc:ga3c85700be6e10140b006cbd5e6b2f1f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates the wake up time between wake up and mcu start  <a href="group__KETCube__RTC__fn.html#ga3c85700be6e10140b006cbd5e6b2f1f2">More...</a><br /></td></tr>
<tr class="separator:ga3c85700be6e10140b006cbd5e6b2f1f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1efbb28b3dfaefbbbf66770c24fb6d12"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga1efbb28b3dfaefbbbf66770c24fb6d12">ketCube_RTC_getMcuWakeUpTime</a> (void)</td></tr>
<tr class="separator:ga1efbb28b3dfaefbbbf66770c24fb6d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab32173379a7c4e4ac95c8c0f28b1b046"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#gab32173379a7c4e4ac95c8c0f28b1b046">ketCube_RTC_GetMinimumTimeout</a> (void)</td></tr>
<tr class="memdesc:gab32173379a7c4e4ac95c8c0f28b1b046"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the wake up time in ticks  <a href="group__KETCube__RTC__fn.html#gab32173379a7c4e4ac95c8c0f28b1b046">More...</a><br /></td></tr>
<tr class="separator:gab32173379a7c4e4ac95c8c0f28b1b046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga999f2bc78adc56082bd280ae400e498c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga999f2bc78adc56082bd280ae400e498c">ketCube_RTC_ms2Tick</a> (TimerTime_t timeMicroSec)</td></tr>
<tr class="memdesc:ga999f2bc78adc56082bd280ae400e498c"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts time in ms to time in ticks  <a href="group__KETCube__RTC__fn.html#ga999f2bc78adc56082bd280ae400e498c">More...</a><br /></td></tr>
<tr class="separator:ga999f2bc78adc56082bd280ae400e498c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d55ad3f3f5d04c1ce2eaecff7c5c50d"><td class="memItemLeft" align="right" valign="top">TimerTime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga6d55ad3f3f5d04c1ce2eaecff7c5c50d">ketCube_RTC_Tick2ms</a> (uint32_t tick)</td></tr>
<tr class="memdesc:ga6d55ad3f3f5d04c1ce2eaecff7c5c50d"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts time in ticks to time in ms  <a href="group__KETCube__RTC__fn.html#ga6d55ad3f3f5d04c1ce2eaecff7c5c50d">More...</a><br /></td></tr>
<tr class="separator:ga6d55ad3f3f5d04c1ce2eaecff7c5c50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a5f2d6a0916f036a29956e3a514b719"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga3a5f2d6a0916f036a29956e3a514b719">ketCube_RTC_SetAlarm</a> (uint32_t timeout)</td></tr>
<tr class="memdesc:ga3a5f2d6a0916f036a29956e3a514b719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the alarm.  <a href="group__KETCube__RTC__fn.html#ga3a5f2d6a0916f036a29956e3a514b719">More...</a><br /></td></tr>
<tr class="separator:ga3a5f2d6a0916f036a29956e3a514b719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9672323f376dc26ab62b04afadc1022c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga9672323f376dc26ab62b04afadc1022c">ketCube_RTC_GetTimerValue</a> (void)</td></tr>
<tr class="memdesc:ga9672323f376dc26ab62b04afadc1022c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the RTC timer value.  <a href="group__KETCube__RTC__fn.html#ga9672323f376dc26ab62b04afadc1022c">More...</a><br /></td></tr>
<tr class="separator:ga9672323f376dc26ab62b04afadc1022c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c4afc069a8588d9d561a72cd3558f34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga0c4afc069a8588d9d561a72cd3558f34">ketCube_RTC_StopAlarm</a> (void)</td></tr>
<tr class="memdesc:ga0c4afc069a8588d9d561a72cd3558f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the Alarm.  <a href="group__KETCube__RTC__fn.html#ga0c4afc069a8588d9d561a72cd3558f34">More...</a><br /></td></tr>
<tr class="separator:ga0c4afc069a8588d9d561a72cd3558f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6026da051049a26f6be9e738f8b55dea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga6026da051049a26f6be9e738f8b55dea">ketCube_RTC_IrqHandler</a> (void)</td></tr>
<tr class="memdesc:ga6026da051049a26f6be9e738f8b55dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTC IRQ Handler on the RTC Alarm.  <a href="group__KETCube__RTC__fn.html#ga6026da051049a26f6be9e738f8b55dea">More...</a><br /></td></tr>
<tr class="separator:ga6026da051049a26f6be9e738f8b55dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26b2280ae34b83d51149973ccf6371e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga26b2280ae34b83d51149973ccf6371e6">ketCube_RTC_DelayMs</a> (uint32_t delay)</td></tr>
<tr class="memdesc:ga26b2280ae34b83d51149973ccf6371e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">a delay of delay ms by polling RTC  <a href="group__KETCube__RTC__fn.html#ga26b2280ae34b83d51149973ccf6371e6">More...</a><br /></td></tr>
<tr class="separator:ga26b2280ae34b83d51149973ccf6371e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2c4f03d53e997a54e1fd5e80daa55c4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#gaf2c4f03d53e997a54e1fd5e80daa55c4">HAL_GetTick</a> (void)</td></tr>
<tr class="memdesc:gaf2c4f03d53e997a54e1fd5e80daa55c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL_GetTick RTC-based replacement.  <a href="group__KETCube__RTC__fn.html#gaf2c4f03d53e997a54e1fd5e80daa55c4">More...</a><br /></td></tr>
<tr class="separator:gaf2c4f03d53e997a54e1fd5e80daa55c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f5a01c71f6551fc26fc47060b4857d0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga2f5a01c71f6551fc26fc47060b4857d0">ketCube_RTC_GetTimerContext</a> (void)</td></tr>
<tr class="memdesc:ga2f5a01c71f6551fc26fc47060b4857d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the RTC timer Reference.  <a href="group__KETCube__RTC__fn.html#ga2f5a01c71f6551fc26fc47060b4857d0">More...</a><br /></td></tr>
<tr class="separator:ga2f5a01c71f6551fc26fc47060b4857d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53cbfe42c7ccec60fdec4dff90cb215f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga53cbfe42c7ccec60fdec4dff90cb215f">ketCube_RTC_GetCalendarTime</a> (uint16_t *mSeconds)</td></tr>
<tr class="memdesc:ga53cbfe42c7ccec60fdec4dff90cb215f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get system time.  <a href="group__KETCube__RTC__fn.html#ga53cbfe42c7ccec60fdec4dff90cb215f">More...</a><br /></td></tr>
<tr class="separator:ga53cbfe42c7ccec60fdec4dff90cb215f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25b0356c13f2f052ec3d89ac8d365bf9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga25b0356c13f2f052ec3d89ac8d365bf9">ketCube_RTC_GetSysTime</a> (void)</td></tr>
<tr class="memdesc:ga25b0356c13f2f052ec3d89ac8d365bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get system time.  <a href="group__KETCube__RTC__fn.html#ga25b0356c13f2f052ec3d89ac8d365bf9">More...</a><br /></td></tr>
<tr class="separator:ga25b0356c13f2f052ec3d89ac8d365bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8ac934dee85916e08ac7a94b50bcb80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#gae8ac934dee85916e08ac7a94b50bcb80">ketCube_RTC_BKUPWrite</a> (uint32_t Data0, uint32_t Data1)</td></tr>
<tr class="separator:gae8ac934dee85916e08ac7a94b50bcb80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8b8302368d1e364106aabe69f1b1c57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#gab8b8302368d1e364106aabe69f1b1c57">ketCube_RTC_BKUPRead</a> (uint32_t *Data0, uint32_t *Data1)</td></tr>
<tr class="separator:gab8b8302368d1e364106aabe69f1b1c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad409786c8b06020b0eb3321d6d85364c"><td class="memItemLeft" align="right" valign="top">TimerTime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#ad409786c8b06020b0eb3321d6d85364c">RtcTempCompensation</a> (TimerTime_t period, float temperature)</td></tr>
<tr class="separator:ad409786c8b06020b0eb3321d6d85364c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11aeff83fd498cddbed3bcddcf017e0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a11aeff83fd498cddbed3bcddcf017e0a">HAL_RTC_AlarmAEventCallback</a> (RTC_HandleTypeDef *hrtc)</td></tr>
<tr class="memdesc:a11aeff83fd498cddbed3bcddcf017e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alarm A callback.  <a href="ketCube__rtc_8c.html#a11aeff83fd498cddbed3bcddcf017e0a">More...</a><br /></td></tr>
<tr class="separator:a11aeff83fd498cddbed3bcddcf017e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d50f5d7f77b0afea82036824b3d44b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__KETCube__RTC__fn.html#ga4d50f5d7f77b0afea82036824b3d44b9">ketCube_RTC_AlarmAEventExec</a> (void)</td></tr>
<tr class="memdesc:ga4d50f5d7f77b0afea82036824b3d44b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alarm A callback.  <a href="group__KETCube__RTC__fn.html#ga4d50f5d7f77b0afea82036824b3d44b9">More...</a><br /></td></tr>
<tr class="separator:ga4d50f5d7f77b0afea82036824b3d44b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6eddaa309c8c9829f1ca794d8f99c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#aee6eddaa309c8c9829f1ca794d8f99c5">HAL_RTC_MspInit</a> (RTC_HandleTypeDef *hrtc)</td></tr>
<tr class="memdesc:aee6eddaa309c8c9829f1ca794d8f99c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTC MSP Initialization This function configures the hardware resources used in this example:  <a href="ketCube__rtc_8c.html#aee6eddaa309c8c9829f1ca794d8f99c5">More...</a><br /></td></tr>
<tr class="separator:aee6eddaa309c8c9829f1ca794d8f99c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8767bc3a4d472d39a688090ab10ba6ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a8767bc3a4d472d39a688090ab10ba6ce">HAL_RTC_MspDeInit</a> (RTC_HandleTypeDef *hrtc)</td></tr>
<tr class="memdesc:a8767bc3a4d472d39a688090ab10ba6ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTC MSP De-Initialization This function freeze the hardware resources used in this example:  <a href="ketCube__rtc_8c.html#a8767bc3a4d472d39a688090ab10ba6ce">More...</a><br /></td></tr>
<tr class="separator:a8767bc3a4d472d39a688090ab10ba6ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879cdb21ef051eb81ec51c18147397d5"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a879cdb21ef051eb81ec51c18147397d5">HAL_InitTick</a> (uint32_t TickPriority)</td></tr>
<tr class="memdesc:a879cdb21ef051eb81ec51c18147397d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function configures the source of the time base.  <a href="ketCube__rtc_8c.html#a879cdb21ef051eb81ec51c18147397d5">More...</a><br /></td></tr>
<tr class="separator:a879cdb21ef051eb81ec51c18147397d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ad55b308638818b25185750c84233e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#af7ad55b308638818b25185750c84233e">HAL_Delay</a> (__IO uint32_t delay)</td></tr>
<tr class="memdesc:af7ad55b308638818b25185750c84233e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function redefines systick-based HAL_Delay.  <a href="ketCube__rtc_8c.html#af7ad55b308638818b25185750c84233e">More...</a><br /></td></tr>
<tr class="separator:af7ad55b308638818b25185750c84233e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4d487bbbc49439c978130e88830836f1"><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a4d487bbbc49439c978130e88830836f1">initialized</a> = <a class="el" href="group__KETCube__common.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="separator:a4d487bbbc49439c978130e88830836f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9851a50ef4baf062b775d0cbd7c117b5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a9851a50ef4baf062b775d0cbd7c117b5">McuWakeUpTimeInitialized</a> = false</td></tr>
<tr class="memdesc:a9851a50ef4baf062b775d0cbd7c117b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">compensates MCU wakeup time  <a href="ketCube__rtc_8c.html#a9851a50ef4baf062b775d0cbd7c117b5">More...</a><br /></td></tr>
<tr class="separator:a9851a50ef4baf062b775d0cbd7c117b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d22e01d28d80ec5b4630686aec08e81"><td class="memItemLeft" align="right" valign="top">static int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a0d22e01d28d80ec5b4630686aec08e81">McuWakeUpTimeCal</a> = 0</td></tr>
<tr class="memdesc:a0d22e01d28d80ec5b4630686aec08e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">compensates MCU wakeup time  <a href="ketCube__rtc_8c.html#a0d22e01d28d80ec5b4630686aec08e81">More...</a><br /></td></tr>
<tr class="separator:a0d22e01d28d80ec5b4630686aec08e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158d7c21ca90ace02ea9a6345f722689"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a158d7c21ca90ace02ea9a6345f722689">DaysInMonth</a> [] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 }</td></tr>
<tr class="separator:a158d7c21ca90ace02ea9a6345f722689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bc1427a9adc71a783c0b19e30f0384"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#aa0bc1427a9adc71a783c0b19e30f0384">DaysInMonthLeapYear</a> [] = { 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 }</td></tr>
<tr class="separator:aa0bc1427a9adc71a783c0b19e30f0384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a469a44a56337e00dc30b13e2bc051"><td class="memItemLeft" align="right" valign="top">static RTC_HandleTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#af5a469a44a56337e00dc30b13e2bc051">RtcHandle</a> ={0}</td></tr>
<tr class="separator:af5a469a44a56337e00dc30b13e2bc051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fc8fc521debc197e4e3becd4c532a9"><td class="memItemLeft" align="right" valign="top">static RTC_AlarmTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#aa4fc8fc521debc197e4e3becd4c532a9">RTC_AlarmStructure</a></td></tr>
<tr class="separator:aa4fc8fc521debc197e4e3becd4c532a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e042f0e024135713eeb5896d77a2356"><td class="memItemLeft" align="right" valign="top">static RtcTimerContext_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a0e042f0e024135713eeb5896d77a2356">RtcTimerContext</a></td></tr>
<tr class="separator:a0e042f0e024135713eeb5896d77a2356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40939e1c44eab744faa1b5a88eb1dd3b"><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ketCube__rtc_8c.html#a40939e1c44eab744faa1b5a88eb1dd3b">executeAlarmOutOfISR</a> = <a class="el" href="group__KETCube__common.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="separator:a40939e1c44eab744faa1b5a88eb1dd3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains implementation of the ketCube RTC driver. </p>
<p>This file contains definitions for the ketCube RTC driver.</p>
<dl class="section author"><dt>Author</dt><dd>Jan Belohoubek </dd></dl>
<dl class="section version"><dt>Version</dt><dd>alpha </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2019-12-10</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This code is based on Semtech and STM RTC driver implementation. See the original file Semtech licenses in LICENSE_SEMTECH. The ST Ultimate Liberty license is dennoted SLA0044. You may not use this file except in compliance with the License. You may obtain a copy of the License at: www.st.com/SLA0044</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; Copyright (c) 2013, SEMTECH S.A. All rights reserved.</center></h2>
<h2><center>&copy; Copyright (c) 2018 STMicroelectronics. All rights reserved.</center></h2>
<h2><center>&copy; Copyright (c) 2019 University of West Bohemia in Pilsen All rights reserved.</center></h2>
<p>Developed by: The SmartCampus Team Department of Technologies and Measurement www.smartcampus.cz | www.zcu.cz</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal with the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<ul>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimers.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimers in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the names of The SmartCampus Team, Department of Technologies and Measurement and Faculty of Electrical Engineering University of West Bohemia in Pilsen, nor the names of its contributors may be used to endorse or promote products derived from this Software without specific prior written permission.</li>
</ul>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE CONTRIBUTORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS WITH THE SOFTWARE. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab4fc49ac0b9e4fccffe78ecdb418912f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4fc49ac0b9e4fccffe78ecdb418912f">&#9670;&nbsp;</a></span>COMMON_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMON_FACTOR&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a661badebd0364de871f2cd2d0b185c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a661badebd0364de871f2cd2d0b185c55">&#9670;&nbsp;</a></span>CONV_DENOM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONV_DENOM&#160;&#160;&#160;(1&lt;&lt;(<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>-<a class="el" href="ketCube__rtc_8c.html#ab4fc49ac0b9e4fccffe78ecdb418912f">COMMON_FACTOR</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8dbad53513ea56467eac68d23a1baf49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbad53513ea56467eac68d23a1baf49">&#9670;&nbsp;</a></span>CONV_NUMER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONV_NUMER&#160;&#160;&#160;(<a class="el" href="ketCube__rtc_8c.html#a5976f980e4aecbba0ab173b8e73f70d9">MSEC_NUMBER</a>&gt;&gt;<a class="el" href="ketCube__rtc_8c.html#ab4fc49ac0b9e4fccffe78ecdb418912f">COMMON_FACTOR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a05269e1eafff6166976130c476ebf507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05269e1eafff6166976130c476ebf507">&#9670;&nbsp;</a></span>DAYS_IN_LEAP_YEAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAYS_IN_LEAP_YEAR&#160;&#160;&#160;( ( uint32_t )  366U )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a86ee3d0452a7ab1bcfcf3fed56876304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ee3d0452a7ab1bcfcf3fed56876304">&#9670;&nbsp;</a></span>DAYS_IN_MONTH_CORRECTION_LEAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAYS_IN_MONTH_CORRECTION_LEAP&#160;&#160;&#160;((uint32_t) 0x445550 )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adff7c2bae448b6eb8630747d64bdbe06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adff7c2bae448b6eb8630747d64bdbe06">&#9670;&nbsp;</a></span>DAYS_IN_MONTH_CORRECTION_NORM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAYS_IN_MONTH_CORRECTION_NORM&#160;&#160;&#160;((uint32_t) 0x99AAA0 )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d40c3278339e38839749bf1704a60cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d40c3278339e38839749bf1704a60cc">&#9670;&nbsp;</a></span>DAYS_IN_YEAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAYS_IN_YEAR&#160;&#160;&#160;( ( uint32_t )  365U )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4b8edf0de0e3751031e15807e73a6f8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b8edf0de0e3751031e15807e73a6f8d">&#9670;&nbsp;</a></span>DIVC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIVC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">X, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">N&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;( ( (X) + (N) -1 ) / (N) )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acbe201bd95d21f649360773cb20ef4ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe201bd95d21f649360773cb20ef4ff">&#9670;&nbsp;</a></span>HOURS_IN_1DAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HOURS_IN_1DAY&#160;&#160;&#160;( ( uint32_t )   24U )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d5b1559769779b90b2a3de5757e0038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5b1559769779b90b2a3de5757e0038">&#9670;&nbsp;</a></span>MIN_ALARM_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_ALARM_DELAY&#160;&#160;&#160;3 /* in ticks */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae81e1b62f553cf38d5272acf84475f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae81e1b62f553cf38d5272acf84475f19">&#9670;&nbsp;</a></span>MINUTES_IN_1HOUR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINUTES_IN_1HOUR&#160;&#160;&#160;( ( uint32_t )   60U )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5976f980e4aecbba0ab173b8e73f70d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5976f980e4aecbba0ab173b8e73f70d9">&#9670;&nbsp;</a></span>MSEC_NUMBER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSEC_NUMBER&#160;&#160;&#160;(<a class="el" href="ketCube__rtc_8c.html#af3934d5d924c9a3b9f9bee6cc9e25945">USEC_NUMBER</a>/1000)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5fce31e2c7437f8f58b0c67a9b2cd037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fce31e2c7437f8f58b0c67a9b2cd037">&#9670;&nbsp;</a></span>N_PREDIV_S</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define N_PREDIV_S&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a21e79e29c67db99f090e9996df18e2c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21e79e29c67db99f090e9996df18e2c7">&#9670;&nbsp;</a></span>PREDIV_A</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PREDIV_A&#160;&#160;&#160;(1&lt;&lt;(15-<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>))-1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8647306f20268ae27f137e06f9e642fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8647306f20268ae27f137e06f9e642fc">&#9670;&nbsp;</a></span>PREDIV_S</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PREDIV_S&#160;&#160;&#160;((1&lt;&lt;<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a72bd8d096a8ba24daacc79e30844e20c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72bd8d096a8ba24daacc79e30844e20c">&#9670;&nbsp;</a></span>RTC_ALARM_TIME_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTC_ALARM_TIME_BASE&#160;&#160;&#160;(<a class="el" href="ketCube__rtc_8c.html#af3934d5d924c9a3b9f9bee6cc9e25945">USEC_NUMBER</a>&gt;&gt;<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae46e397fa306bd26bf8320afeaebb9c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae46e397fa306bd26bf8320afeaebb9c0">&#9670;&nbsp;</a></span>RTC_ALARMSUBSECONDMASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTC_ALARMSUBSECONDMASK&#160;&#160;&#160;(<a class="el" href="ketCube__rtc_8c.html#a5fce31e2c7437f8f58b0c67a9b2cd037">N_PREDIV_S</a>&lt;&lt;RTC_ALRMASSR_MASKSS_Pos)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf2bd16d86f1ebf56e73b38adeafadf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf2bd16d86f1ebf56e73b38adeafadf3">&#9670;&nbsp;</a></span>SECONDS_IN_1DAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SECONDS_IN_1DAY&#160;&#160;&#160;( ( uint32_t )86400U )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a49351bd0651fa15e2a33dd94ba993002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49351bd0651fa15e2a33dd94ba993002">&#9670;&nbsp;</a></span>SECONDS_IN_1HOUR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SECONDS_IN_1HOUR&#160;&#160;&#160;( ( uint32_t ) 3600U )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6bb348cf6aae2bfed39e2edd5ce0383a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb348cf6aae2bfed39e2edd5ce0383a">&#9670;&nbsp;</a></span>SECONDS_IN_1MINUTE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SECONDS_IN_1MINUTE&#160;&#160;&#160;( ( uint32_t )   60U )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af3934d5d924c9a3b9f9bee6cc9e25945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3934d5d924c9a3b9f9bee6cc9e25945">&#9670;&nbsp;</a></span>USEC_NUMBER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USEC_NUMBER&#160;&#160;&#160;1000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af7ad55b308638818b25185750c84233e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ad55b308638818b25185750c84233e">&#9670;&nbsp;</a></span>HAL_Delay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_Delay </td>
          <td>(</td>
          <td class="paramtype">__IO uint32_t&#160;</td>
          <td class="paramname"><em>delay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function redefines systick-based HAL_Delay. </p>
<p>This function provides delay in ms</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Delay</td><td>specifies the delay time length, in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a879cdb21ef051eb81ec51c18147397d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879cdb21ef051eb81ec51c18147397d5">&#9670;&nbsp;</a></span>HAL_InitTick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL_StatusTypeDef HAL_InitTick </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>TickPriority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function configures the source of the time base. </p>
<p>KETCube uses RTC, so sysTick is not enabled</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TickPriority</td><td>Tick interrupt priority.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">HAL</td><td>status </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a11aeff83fd498cddbed3bcddcf017e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11aeff83fd498cddbed3bcddcf017e0a">&#9670;&nbsp;</a></span>HAL_RTC_AlarmAEventCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RTC_AlarmAEventCallback </td>
          <td>(</td>
          <td class="paramtype">RTC_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>hrtc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alarm A callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hrtc</td><td>RTC handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8767bc3a4d472d39a688090ab10ba6ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8767bc3a4d472d39a688090ab10ba6ce">&#9670;&nbsp;</a></span>HAL_RTC_MspDeInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RTC_MspDeInit </td>
          <td>(</td>
          <td class="paramtype">RTC_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>hrtc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTC MSP De-Initialization This function freeze the hardware resources used in this example: </p>
<ul>
<li>Disable the Peripheral's clock <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hrtc</td><td>RTC handle pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="aee6eddaa309c8c9829f1ca794d8f99c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee6eddaa309c8c9829f1ca794d8f99c5">&#9670;&nbsp;</a></span>HAL_RTC_MspInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RTC_MspInit </td>
          <td>(</td>
          <td class="paramtype">RTC_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>hrtc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTC MSP Initialization This function configures the hardware resources used in this example: </p>
<ul>
<li>Peripheral's clock enable <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hrtc</td><td>RTC handle pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Care must be taken when HAL_RCCEx_PeriphCLKConfig() is used to select the RTC clock source; in this case the Backup domain will be reset in <br  />
 order to modify the RTC Clock source, as consequence RTC registers (including the backup registers) and RCC_CSR register are set to their reset values. <br  />
 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="a030e79c6648a8732372d4e63a274e456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030e79c6648a8732372d4e63a274e456">&#9670;&nbsp;</a></span>ketCube_RTC_GetCalendarValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t ketCube_RTC_GetCalendarValue </td>
          <td>(</td>
          <td class="paramtype">RTC_DateTypeDef *&#160;</td>
          <td class="paramname"><em>RTC_DateStruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RTC_TimeTypeDef *&#160;</td>
          <td class="paramname"><em>RTC_TimeStruct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get current time from calendar in ticks </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>to RTC_DateStruct </td></tr>
    <tr><td class="paramname">pointer</td><td>to RTC_TimeStruct </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">time</td><td>in ticks </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae5023a0b126b4c137fa3fbac1a7315ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5023a0b126b4c137fa3fbac1a7315ac">&#9670;&nbsp;</a></span>ketCube_RTC_SetAlarmConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ketCube_RTC_SetAlarmConfig </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>configure alarm at init </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa199f2f74cce60417dee56f523dbd78b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa199f2f74cce60417dee56f523dbd78b">&#9670;&nbsp;</a></span>ketCube_RTC_SetConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ketCube_RTC_SetConfig </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configures the RTC timer. </p>
<dl class="section note"><dt>Note</dt><dd>The timer is based on the RTC </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a35396e79c9a1063c262307cd2410da93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35396e79c9a1063c262307cd2410da93">&#9670;&nbsp;</a></span>ketCube_RTC_StartWakeUpAlarm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ketCube_RTC_StartWakeUpAlarm </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeoutValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>start wake up alarm </p>
<dl class="section note"><dt>Note</dt><dd>alarm in RtcTimerContext.Rtc_Time + timeoutValue </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeoutValue</td><td>in ticks </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad409786c8b06020b0eb3321d6d85364c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad409786c8b06020b0eb3321d6d85364c">&#9670;&nbsp;</a></span>RtcTempCompensation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimerTime_t RtcTempCompensation </td>
          <td>(</td>
          <td class="paramtype">TimerTime_t&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>temperature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a158d7c21ca90ace02ea9a6345f722689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a158d7c21ca90ace02ea9a6345f722689">&#9670;&nbsp;</a></span>DaysInMonth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t DaysInMonth[] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of days in each month on a normal year </p>

</div>
</div>
<a id="aa0bc1427a9adc71a783c0b19e30f0384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0bc1427a9adc71a783c0b19e30f0384">&#9670;&nbsp;</a></span>DaysInMonthLeapYear</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t DaysInMonthLeapYear[] = { 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of days in each month on a leap year </p>

</div>
</div>
<a id="a40939e1c44eab744faa1b5a88eb1dd3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40939e1c44eab744faa1b5a88eb1dd3b">&#9670;&nbsp;</a></span>executeAlarmOutOfISR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool executeAlarmOutOfISR = <a class="el" href="group__KETCube__common.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4d487bbbc49439c978130e88830836f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d487bbbc49439c978130e88830836f1">&#9670;&nbsp;</a></span>initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool initialized = <a class="el" href="group__KETCube__common.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0d22e01d28d80ec5b4630686aec08e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d22e01d28d80ec5b4630686aec08e81">&#9670;&nbsp;</a></span>McuWakeUpTimeCal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int16_t McuWakeUpTimeCal = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>compensates MCU wakeup time </p>

</div>
</div>
<a id="a9851a50ef4baf062b775d0cbd7c117b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9851a50ef4baf062b775d0cbd7c117b5">&#9670;&nbsp;</a></span>McuWakeUpTimeInitialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool McuWakeUpTimeInitialized = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>compensates MCU wakeup time </p>

</div>
</div>
<a id="aa4fc8fc521debc197e4e3becd4c532a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4fc8fc521debc197e4e3becd4c532a9">&#9670;&nbsp;</a></span>RTC_AlarmStructure</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RTC_AlarmTypeDef RTC_AlarmStructure</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af5a469a44a56337e00dc30b13e2bc051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5a469a44a56337e00dc30b13e2bc051">&#9670;&nbsp;</a></span>RtcHandle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RTC_HandleTypeDef RtcHandle ={0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0e042f0e024135713eeb5896d77a2356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e042f0e024135713eeb5896d77a2356">&#9670;&nbsp;</a></span>RtcTimerContext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RtcTimerContext_t RtcTimerContext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Keep the value of the RTC timer when the RTC alarm is set Set with the ketCube_RTC_SetTimerContext function Value is kept as a Reference to calculate alarm </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
